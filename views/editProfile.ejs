<!DOCTYPE html>
<html>
  <%- include("./partials/head") %>
  <link href="/css/register-style.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  <script>
      function myFunction() {
          var x = document.getElementById("myLinks");
          if (x.style.display === "block") {
            x.style.display = "none";
          } else {
            x.style.display = "block";
          }
        }
  </script>
</head>
    <body>
      
        <%- include("./partials/header") %>
        <main id="editProfile">
            <% if (user == undefined) { %>
             <div class="notlogged">
             <h1>You're not logged in, please click the following link to do it. </h1>
             <br>
             <a href="/users/login"> Login </a>
            </div>
            <% } else { %>
              <br>
              <br>
              
              <form action="/users/register" enctype="multipart/form-data" method="POST" class="formulario" >
        
                <p id="field"> 
                  <div class="acaFirstName" id="erroresFront"></div>
                 <div class="onehalf"><label>*Name</label></div>
                  <input type="text" id="first_name"  name="first_name" required: true value="<%= user.firstName%>">
                </p>
                <% if (locals.errors && errors.first_name) { %>
                  <p class="errorSign"><%= errors.first_name.msg %></p>
                <% } %> 
                <br>
                <p id="field"> 
                  <div class="acaLastName" id="erroresFront"></div>
                  <div class="onehalf"><label>*Lastname</label></div>
                  <input type="text" id="last_name" name="last_name" required: true value="<%= user.lastName%>">
                </p>
                <% if (locals.errors && errors.last_name) { %>
                  <p class="errorSign"><%= errors.last_name.msg %></p>
                  <% } %> 
                <br>
                <p id="field"> 
                  <div class="acaEmail" id="erroresFront"></div>
                  <div class="onehalf"><label>*E-mail</label></div>
                  <input type="text" id="email" name="email" required: true value="<%= user.email%>">
                </p>
                <% if (locals.errors && errors.email) { %>
                  <p class="errorSign"><%= errors.email.msg %></p>
                  <% } %> 
                <br>
               <p id="field"> 
                <div class="acaUsername" id="erroresFront"></div>
                  <div class="otherhalf"><label>*Username</label></div>
                  <input type="text" id="username" name="username" required: true value="<%= user.userName%>">
                </p>
                <% if (locals.errors && errors.username) { %>
                  <p class="errorSign"><%= errors.username.msg %></p>
                  <% } %> 
                <br>
                <p id="field"> 
                  <div class="acaPassword1" id="erroresFront"></div>
                  <div class="otherhalf"><label>*Password</label></div>
                  <input type="password" id="password" name="password" required: true placeholder ="">
                </p>
                <% if (locals.errors && errors.password) { %>
                  <p class="errorSign"><%= errors.password.msg %></p>
                  <% } %> 
                <br>
                <p id="field"> 
                  <div class="acaPassword2" id="erroresFront"></div>
                  <div class="otherhalf"><label>*Confirm password</label></div>
                  <input type="password" id="password2" name="password2" required: true placeholder ="">
                </p>
                <% if (locals.errors && errors.password2) { %>
                  <p class="errorSign"><%= errors.password2.msg %></p>
                  <% } %> 
                <br>
                <div class="acaAvatar" id="erroresFront"></div>
                <label id="upload" class="selectCSV"  for="botonupload">Upload your avatar</label>
                <input type="file" id="create"  name="avatar" accept=".jpg, .gif, .jpeg, .png" id="botonupload">
                <img src="<%= user.avatar %>" alt="" class="tokenIMG">
                <br>
                
                <p class="full">
                  <button class="boton-wallet">*Choose your wallet</button>
                </p>
                <br>
                <p class="full">
                  <button class="boton-signup" type="submit">Update Profile</button>  
                </p>
                <br>
              </form>
              <br class="line"> <% } %> 
        </main>
    
        <%- include("./partials/footer") %>
        </div>
        <script src="/js/editProfile.js">
       
     
        </script>  
    </body>
</html>